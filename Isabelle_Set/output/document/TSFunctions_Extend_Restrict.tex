%
\begin{isabellebody}%
\setisabellecontext{TSFunctions{\isacharunderscore}{\kern0pt}Extend{\isacharunderscore}{\kern0pt}Restrict}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Restriction%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ TSFunctions{\isacharunderscore}{\kern0pt}Extend{\isacharunderscore}{\kern0pt}Restrict\isanewline
\ \ \isakeyword{imports}\ TSFunctions{\isacharunderscore}{\kern0pt}Base\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}Dep{\isacharunderscore}{\kern0pt}Function{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}type{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}restrict{\isacharunderscore}{\kern0pt}left\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}s\ B\ x{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isacharcolon}{\kern0pt}\ Set\ {\isasymRightarrow}\ Bool{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ {\isacharampersand}{\kern0pt}\ type\ P{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}s\ B\ x{\isacharparenright}{\kern0pt}\ {\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ Dep{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}typeI\ Dep{\isacharunderscore}{\kern0pt}FunctionI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ f\ P\ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}s\ B\ x{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isacharampersand}{\kern0pt}\ type\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}type{\isacharunderscore}{\kern0pt}pred\ {\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ x\ {\isacharcolon}{\kern0pt}\ A\ {\isasymand}\ P\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}types\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}total{\isacharunderscore}{\kern0pt}on\ {\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}\ f{\isasymrestriction}\isactrlbsub P\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}total{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}leftI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}pred\ A{\isacharparenright}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ Dep{\isacharunderscore}{\kern0pt}Function{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}on{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}pred\ A{\isacharparenright}{\kern0pt}\ f{\isasymrestriction}\isactrlbsub P\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ antimonoD{\isacharbrackleft}{\kern0pt}OF\ antimono{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}boolD{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}type{\isacharunderscore}{\kern0pt}pred\ {\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ f{\isasymrestriction}\isactrlbsub P\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ antimonoD{\isacharbrackleft}{\kern0pt}OF\ antimono{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}pred{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}boolD{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ Int{\isacharunderscore}{\kern0pt}typeD{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}unique{\isacharunderscore}{\kern0pt}on\ {\isacharquery}{\kern0pt}A{\isacharprime}{\kern0pt}\ f{\isasymrestriction}\isactrlbsub P\isactrlesub {\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ A\ {\isacharampersand}{\kern0pt}\ type\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ A{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}P\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}types\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub P\isactrlesub {\isacharbackquote}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ f{\isacharbackquote}{\kern0pt}x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}type\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub P\isactrlesub {\isacharbackquote}{\kern0pt}x\ {\isacharcolon}{\kern0pt}\ B\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}Dep{\isacharunderscore}{\kern0pt}Function{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}type{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}restrict{\isacharunderscore}{\kern0pt}left\ {\isacharcolon}{\kern0pt}\ Dep{\isacharunderscore}{\kern0pt}Function\ A\ B\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}A{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ Set{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ Dep{\isacharunderscore}{\kern0pt}Function\ {\isacharparenleft}{\kern0pt}A\ {\isacharampersand}{\kern0pt}\ Element\ A{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
\ \ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}types\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}Dep{\isacharunderscore}{\kern0pt}Function{\isacharunderscore}{\kern0pt}type{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}type{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}restrict{\isacharunderscore}{\kern0pt}left\ {\isacharcolon}{\kern0pt}\ Dep{\isacharunderscore}{\kern0pt}Function\ A\ B\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}T\ {\isacharcolon}{\kern0pt}\ Any{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ Dep{\isacharunderscore}{\kern0pt}Function\ {\isacharparenleft}{\kern0pt}A\ {\isacharampersand}{\kern0pt}\ T{\isacharparenright}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
\ \ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}types\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}CDep{\isacharunderscore}{\kern0pt}Function{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}Dep{\isacharunderscore}{\kern0pt}Function\ {\isacharbrackleft}{\kern0pt}derive{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}s\ B\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub A\isactrlesub \ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}cs\ B\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ CDep{\isacharunderscore}{\kern0pt}FunctionI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub A\isactrlesub \ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}\ A\ {\isacharampersand}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}s\ B\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ discharge{\isacharunderscore}{\kern0pt}types\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub A\isactrlesub \ {\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}s\ B\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ Dep{\isacharunderscore}{\kern0pt}Function{\isacharunderscore}{\kern0pt}contravariant{\isacharunderscore}{\kern0pt}dom{\isacharparenright}{\kern0pt}\ discharge{\isacharunderscore}{\kern0pt}types\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isasymrestriction}\isactrlbsub A\isactrlesub \ {\isacharcolon}{\kern0pt}\ Dep{\isacharunderscore}{\kern0pt}Bin{\isacharunderscore}{\kern0pt}Rel\ A\ B{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ Dep{\isacharunderscore}{\kern0pt}Bin{\isacharunderscore}{\kern0pt}RelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ p\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymin}\ f{\isasymrestriction}\isactrlbsub A\isactrlesub {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ \isakeyword{where}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isacharcolon}{\kern0pt}\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isacharcolon}{\kern0pt}\ B\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isacharcolon}{\kern0pt}\ {\isasymSum}x\ {\isacharcolon}{\kern0pt}\ A{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}B\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/github/Isabelle-Set/Isabelle_Set/Functions/TSFunctions/TSFunctions_Extend_Restrict.thy%:%
%:%11=2%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%35=5%:%
%:%38=6%:%
%:%39=7%:%
%:%40=7%:%
%:%41=8%:%
%:%42=9%:%
%:%49=10%:%
%:%50=10%:%
%:%51=11%:%
%:%52=11%:%
%:%53=11%:%
%:%54=12%:%
%:%55=12%:%
%:%56=13%:%
%:%57=13%:%
%:%58=13%:%
%:%59=14%:%
%:%60=14%:%
%:%61=14%:%
%:%62=15%:%
%:%63=15%:%
%:%64=16%:%
%:%65=16%:%
%:%66=16%:%
%:%67=17%:%
%:%68=17%:%
%:%69=18%:%
%:%70=18%:%
%:%71=18%:%
%:%72=19%:%
%:%73=19%:%
%:%74=20%:%
%:%75=20%:%
%:%76=21%:%
%:%77=21%:%
%:%78=21%:%
%:%79=22%:%
%:%80=22%:%
%:%81=23%:%
%:%82=23%:%
%:%83=24%:%
%:%84=24%:%
%:%85=24%:%
%:%86=24%:%
%:%87=25%:%
%:%88=25%:%
%:%89=25%:%
%:%90=26%:%
%:%91=26%:%
%:%92=26%:%
%:%93=26%:%
%:%94=27%:%
%:%95=27%:%
%:%96=27%:%
%:%97=27%:%
%:%98=28%:%
%:%99=28%:%
%:%100=28%:%
%:%101=28%:%
%:%102=29%:%
%:%108=29%:%
%:%111=30%:%
%:%112=31%:%
%:%113=31%:%
%:%114=32%:%
%:%115=33%:%
%:%116=34%:%
%:%119=35%:%
%:%123=35%:%
%:%124=35%:%
%:%129=35%:%
%:%132=36%:%
%:%133=37%:%
%:%134=37%:%
%:%135=38%:%
%:%136=39%:%
%:%139=40%:%
%:%143=40%:%
%:%144=40%:%
%:%149=40%:%
%:%152=41%:%
%:%153=42%:%
%:%154=42%:%
%:%155=43%:%
%:%156=44%:%
%:%163=45%:%
%:%164=45%:%
%:%165=46%:%
%:%166=46%:%
%:%167=46%:%
%:%168=47%:%
%:%169=47%:%
%:%170=47%:%
%:%171=48%:%
%:%172=48%:%
%:%173=49%:%
%:%174=49%:%
%:%175=50%:%
%:%176=50%:%
%:%177=51%:%
%:%178=51%:%
%:%179=51%:%
%:%180=52%:%
%:%181=52%:%
%:%182=52%:%
%:%183=52%:%
%:%184=53%:%
%:%185=53%:%
%:%186=53%:%
%:%187=53%:%
%:%188=53%:%
%:%189=54%:%
%:%190=54%:%
%:%191=54%:%
%:%192=54%:%
%:%193=55%:%
%:%194=55%:%
%:%195=56%:%
%:%201=56%:%
%:%204=57%:%
%:%207=58%:%
%:%212=59%:%
